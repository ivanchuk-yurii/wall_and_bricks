{"version":3,"sources":["components/Brick/Brick.js","components/Block/Block.js","components/Wall/Wall.js","components/Input/Input.js","components/Bricks/Bricks.js","components/Check/Check.js","App.js","index.js","check.js"],"names":["Brick","className","Block","block","i","push","key","data-bin","Wall","width","heigth","wall","id","style","gridTemplateRows","gridTemplateColumns","Input","text","type","min","placeholder","required","Bricks","inputs","input","Check","App","ReactDOM","render","StrictMode","document","getElementById","console","clear","userBricks","addEventListener","ev","target","closest","data","dataset","classList","toggle","bin","preventDefault","curBlock","map","param","value","forEach","dir","wallData","row","children","length","sorted","sort","brick1","brick2","start","Date","now","result","check","curWall","curBricks","curBrick","wallS","matches","match","bricksS","brick","y","x","isBrick","y0","substr","repeat","nextWall","nextBricks","slice","isBuilt","shift","finish","alert"],"mappings":"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","file":"static/js/main.9756630b.chunk.js","sourcesContent":["import React from 'react';\nimport './Brick.css';\n\nexport function Brick() {\n  return (\n    <div className='block__brick'></div>\n  );\n}\n","import React from 'react';\nimport { Brick } from '../Brick/Brick';\nimport './Block.css';\n\nexport function Block() {\n  const block = [];\n\n  for (let i = 0; i < 3; i++) {\n    block.push(<Brick key={i} />);\n  }\n\n  return (\n    <div className=\"block\" data-bin='0'>{block}</div>\n  );\n}\n","import React from 'react';\nimport { Block } from '../Block/Block';\nimport './Wall.css';\n\nexport function Wall({ width, heigth }) {\n  const wall = [];\n\n  for (let block = 0; block < +width * +heigth; block++) {\n    wall.push(<Block key={block} />)\n  }\n\n  return (\n    <div\n      className='wall'\n      id='wall'\n      style={{\n        gridTemplateRows: `repeat(${heigth}, 50px)`,\n        gridTemplateColumns: `repeat(${width}, 50px)`\n      }}\n    >\n      {wall}\n    </div>\n  );\n}\n","import React from 'react';\nimport './Input.css';\n\nexport function Input({ id, text }) {\n  return (\n    <label className='form__question'>\n      {text}\n      <input\n        type='number'\n        className='form__input'\n        id={id}\n        min='1'\n        placeholder='1'\n        required\n      />\n    </label>\n  );\n}\n","import React from 'react';\nimport { Input } from '../Input/Input';\nimport './Bricks.css'\n\nexport function Bricks() {\n  const inputs = [];\n  const inputsData = [\n    {id: 'width', text: 'Width:'},\n    {id: 'heigth', text: 'Heigth:'},\n    {id: 'count', text: 'Count:'},\n  ];\n\n  for (const input of inputsData) {\n    inputs.push(<Input { ...input } key={input.id} />)\n  }\n\n  return (\n    <form className='form' id='bricks'>\n      <h2>Configurate</h2>\n\n      {inputs}\n\n      <button className='form__button' type='submit'>Add block</button>\n    </form>\n  );\n}\n","import React from 'react';\nimport './Check.css';\n\nexport function Check() {\n  return (\n    <button\n      className='check'\n      id='check'\n    >\n      Check!\n    </button>\n  );\n}\n","import React from 'react';\nimport { Wall } from './components/Wall/Wall';\nimport { Bricks } from './components/Bricks/Bricks';\nimport { Check } from './components/Check/Check';\nimport './App.css';\n\nfunction App() {\n  return (\n    <>\n      <Wall width='10' heigth='10' />\n      <Bricks />\n      <Check />\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { check } from './check';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nconsole.clear();\n\nconst wall = document.getElementById('wall');\nconst userBricks = [];\n\nfunction wallClick(ev) {\n  const block = ev.target.closest('.block');\n\n  if (block) {\n    const data = block.dataset;\n    block.classList.toggle('block_active');\n  \n    if (data.bin === '0') {\n      data.bin = 1;\n    } else data.bin = 0;\n  }\n}\n\nfunction onAddBlock(ev) {\n  ev.preventDefault();\n\n  const curBlock = [\n    document.getElementById('width'),\n    document.getElementById('heigth'),\n    document.getElementById('count')\n  ];\n\n  userBricks.push(curBlock.map(param => +param.value));\n  curBlock.forEach(param => param.value = '');\n\n  console.clear();\n  console.dir(userBricks);\n}\n\nfunction onCheck() {\n  const wallData = [];\n  let row = '';\n\n  for (let i = 0; i < wall.children.length; i++) {\n    row += wall.children[i].dataset.bin;\n\n    if (i && (i + 1) % 10 === 0) {\n      wallData.push(row);\n      row = '';\n    }\n    \n  }\n\n  const sorted = userBricks.sort((brick1, brick2) => (\n    brick2[0] * brick2[1] -\n    brick1[0] * brick1[1]\n  ));\n  const start = Date.now();\n  const result = check(wallData, sorted);\n  const finish = Date.now();\n\n  alert((result ? 'yes, ' : 'no, ') + (finish - start) + 'ms');\n\n  console.clear();\n  userBricks.length = 0;\n}\n\nwall.addEventListener('click', wallClick);\ndocument.getElementById('bricks').addEventListener('submit', onAddBlock);\ndocument.getElementById('check').addEventListener('click', onCheck);\n","export function check(curWall, curBricks) {\n  const curBrick = curBricks[0];\n\n  let wallS = 0;\n\n  for (const square of curWall) {\n    const matches = square.match(/1/g);\n    wallS += matches ? matches.length : 0;\n  }\n\n  let bricksS = 0;\n\n  for (const brick of curBricks) {\n    bricksS += brick[0] * brick[1] * brick[2];\n  }\n\n  if (wallS > bricksS) {\n    return false;\n  }\n\n  for (let y = 0; y < curWall.length; y++) {\n    for (let x = 0; x < curWall[y].length; x++) {\n      if (curWall[y][x] === '1') {\n        let isBrick = true;\n\n        for (let y0 = y; y0 < y + curBrick[1]; y0++) {\n          if (!curWall[y0] || curWall[y0].substr(x, curBrick[0]) !== '1'.repeat(curBrick[0])) {\n            isBrick = false;\n            break;\n          }\n        }\n\n        if (isBrick) {\n          const nextWall = [ ...curWall ];\n          const nextBricks = [];\n\n          for (const brick of curBricks) {\n            nextBricks.push([ ...brick ]);\n          }\n\n          for (let y0 = y; y0 < y + curBrick[1]; y0++) {\n            nextWall[y0] = nextWall[y0].slice(0, x) + '0'.repeat(curBrick[0]) + nextWall[y0].slice(x + curBrick[0]);\n          }\n          \n          let isBuilt = true;\n\n          for (const row of nextWall) {\n            if (row !== '0'.repeat(nextWall[0].length)) {\n              isBuilt = false;\n              break;\n            }\n          }\n\n          if (isBuilt) {\n            return true;\n          }\n\n          if (--nextBricks[0][2] <= 0) {\n            nextBricks.shift();\n          }\n\n          if (nextBricks.length !== 0 && check(nextWall, nextBricks)) {\n            return true;\n          }\n        }\n\n        if (curBrick[0] === curBrick[1]) {\n          continue;\n        }\n\n        isBrick = true;\n\n        for (let y0 = y; y0 < y + curBrick[0]; y0++) {\n          if (!curWall[y0] || curWall[y0].substr(x, curBrick[1]) !== '1'.repeat(curBrick[1])) {\n            isBrick = false;\n            break;\n          }\n        }\n\n        if (isBrick) {\n          const nextWall = [ ...curWall ];\n          const nextBricks = [];\n\n          for (const i of curBricks) {\n            nextBricks.push([ ...i ]);\n          }\n\n          for (let y0 = y; y0 < y + curBrick[0]; y0++) {\n            nextWall[y0] = nextWall[y0].slice(0, x) + '0'.repeat(curBrick[1]) + nextWall[y0].slice(x + curBrick[1]);\n          }\n          \n          let isBuilt = true;\n\n          for (const row of nextWall) {\n            if (row !== '0'.repeat(nextWall[0].length)) {\n              isBuilt = false;\n              break;\n            }\n          }\n\n          if (isBuilt) {\n            return true;\n          }\n\n          if (--nextBricks[0][2] <= 0) {\n            nextBricks.shift();\n          }\n\n          if (nextBricks.length !== 0 && check(nextWall, nextBricks)) {\n            return true;\n          }\n        }\n      }\n    }\n  }\n\n  const nextWall = [ ...curWall ];\n  const nextBricks = [];\n\n  for (const brick of curBricks) {\n    nextBricks.push([ ...brick ]);\n  }\n\n  nextBricks.shift();\n\n  return nextBricks.length === 0 ? false : check(nextWall, nextBricks);\n}\n"],"sourceRoot":""}